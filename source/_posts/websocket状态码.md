---
title: websocket状态码
date: 2019-06-23 10:27:30
tags: websocket
categories: web
comments: true
description: websocket协议
---

### websocket状态码的使用
在websocket协议中，内置了许多供websocket连接中使用的状态码，官方定义了一些

#### 定义连接相关的状态代码


   1000

      1000表示正常闭合，意味着目的
      建立连接已经完成。

   1001

      1001表示端点“正在离开”，例如服务器
      下降或浏览器已离开页面。

   1002

      1002表示端点正在终止连接

   1003

      1003表示端点正在终止连接
      因为它收到了一种它无法接受的数据

   1004

      保留。具体含义可能在将来定义。

   1005

      1005是保留值，不得设置为a中的状态代码
      由端点关闭控制框架。它被指定用于
      期望状态代码表明没有状态的应用程序
      代码实际上存在。

   1006

      1006是保留值，不得设置为a中的状态码
      由端点关闭控制框架。它被指定用于
      应用程序期望状态代码指示
      连接异常关闭，例如，没有发送或
      接收关闭控制框架。

   1007

      1007表示端点正在终止连接
      因为它已收到消息中没有的数据
      与消息类型一致（例如，非UTF-8 [ RFC3629 ]
      短信中的数据）。

   1008

      1008表示端点正在终止连接
      因为它收到了违反其政策的消息。这个
      是一个通用的状态代码，可以在没有时返回
      其他更合适的状态代码（例如，1003或1009）或是否存在
      需要隐藏有关策略的特定详细信息。

   1009

      1009表示端点正在终止连接，因为它收到的消息太大了
      难以处理。

   1010

      1010表示端点（客户端）正在终止
      连接，因为它已经期望服务器协商一个或
      更多扩展，但服务器没有在响应中返回它们
      WebSocket握手的消息。扩展名列表
      是否应该出现在关闭框架的/ reason /部分中。
      请注意，服务器不使用此状态代码，因为它
      可能会失败WebSocket握手。

   1011

      1011表示服务器正在终止连接，因为
      它遇到了阻止它的意外情况。

   1015

      1015是保留值，不得设置为a中的状态码
      由端点关闭控制框架。它被指定用于
      应用程序期望状态代码指示
      由于未能执行TLS握手，连接已关闭
      （例如，无法验证服务器证书）。

#### 保留的状态代码范围

   0-999

      不使用0-999范围内的状态代码。

   1000-2999

      1000-2999范围内的状态代码保留用于定义
      此协议，其未来的修订版中随时可用的公共规范。

   3000-3999

      3000-3999范围内的状态代码保留供使用
      库，框架和应用程序。这些状态代码是
      直接在IANA注册。这些代码的解释
      该协议未定义。

   4000-4999

      4000-4999范围内的状态代码保留供私人使用
      因此无法注册。这些代码可以由先前使用
      WebSocket应用程序之间的协议。
